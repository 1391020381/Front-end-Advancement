* 本文主要讲解渲染引擎的分层和合成机制,因为分层和合成机制代表了浏览器最为先进的合成技术,。

# 显示器是怎么显示图像的
* 每个显示器都有固定的刷新频率,通常是60HZ,也就是每秒更新60张图片,更新60张图片,更新的图片都来自于显卡中一个叫`前缓冲区`的地方,显示器所做的任务很简单,就是每秒固定读取60次缓冲中的图像,并将读取的图像显示到显示器上。

# 那么显卡做什么？
* 显卡的职责就是合成达新的图像,并将图像保存到`后缓冲区`中一旦显卡把合成的图像写到后缓冲区,系统就会让后缓冲区和前缓冲区互换,这样就能保证显示器读取到最新显卡合成的图像。通常情况下,显卡的更新频率和显示器的刷新频率是一致的。但是有时候,在一些复杂的场景中,显卡处理一张图片的速度会很慢,这样就会造成视觉上的卡顿。
# 帧VS帧率
* 当通过滚动条滚动页面,或者通过首饰缩放页面时,屏幕就会产生动画效果。之所以你能感觉到有动画的效果,是因为在滚动或者缩放的操作时,渲染引擎会通过渲染流水线生成新的图片,并发送到显卡的后缓冲区。
* 大多数设备屏幕的更新频率是60次/秒,这也意味着正常情况下要实现流畅的动画效果,渲染引擎需要每秒更新60张图片到显卡的后缓冲区。
* 我们把渲染流水线生成的每一副图片称为一帧,把渲染流水线每秒更新了多少帧称为帧率,比如滚动过程中1秒更新了60帧,那么帧率就是60HZ(或者60FPS)
