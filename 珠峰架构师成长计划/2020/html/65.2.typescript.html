<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>珠峰架构师成长计划</title>
    <link rel="stylesheet" type="text/css" href="../static/css/main.css">
</head>
<body>
<div class="nav">
    <div class="logo">
        
            珠峰架构师成长计划
        
    </div>
<ul><li><a href="../index.html">0.Async</a></li><li><a href="../html/0.editor.html">0.editor</a></li><li><a href="../html/0.module.html">0.module</a></li><li><a href="../html/1.ES2015.html">1.ES2015</a></li><li><a href="../html/2.Promise.html">2.Promise</a></li><li><a href="../html/3.Node.html">3.Node</a></li><li><a href="../html/4.NodeInstall.html">4.NodeInstall</a></li><li><a href="../html/5.REPL.html">5.REPL</a></li><li><a href="../html/6.NodeCore.html">6.NodeCore</a></li><li><a href="../html/7.module&NPM.html">7.module&NPM</a></li><li><a href="../html/8.Encoding.html">8.Encoding</a></li><li><a href="../html/9.Buffer.html">9.Buffer</a></li><li><a href="../html/10.fs.html">10.fs</a></li><li><a href="../html/11.Stream-1.html">11.Stream-1</a></li><li><a href="../html/11.Stream-2.html">11.Stream-2</a></li><li><a href="../html/11.Stream-3.html">11.Stream-3</a></li><li><a href="../html/11.Stream-4.html">11.Stream-4</a></li><li><a href="../html/12-Network-2.html">12-Network-2</a></li><li><a href="../html/12.NetWork-3.html">12.NetWork-3</a></li><li><a href="../html/12.Network-1.html">12.Network-1</a></li><li><a href="../html/13.tcp.html">13.tcp</a></li><li><a href="../html/14.http-1.html">14.http-1</a></li><li><a href="../html/14.http-2.html">14.http-2</a></li><li><a href="../html/15.compress.html">15.compress</a></li><li><a href="../html/16.crypto.html">16.crypto</a></li><li><a href="../html/17.process.html">17.process</a></li><li><a href="../html/18.yargs.html">18.yargs</a></li><li><a href="../html/19.cache.html">19.cache</a></li><li><a href="../html/20.action.html">20.action</a></li><li><a href="../html/21.https.html">21.https</a></li><li><a href="../html/22.cookie.html">22.cookie</a></li><li><a href="../html/23.session.html">23.session</a></li><li><a href="../html/24.express-1.html">24.express-1</a></li><li><a href="../html/24.express-2.html">24.express-2</a></li><li><a href="../html/24.express-3.html">24.express-3</a></li><li><a href="../html/24.express-4.html">24.express-4</a></li><li><a href="../html/25.koa-1.html">25.koa-1</a></li><li><a href="../html/26.webpack-1-basic.html">26.webpack-1-basic</a></li><li><a href="../html/26.webpack-2-optimize.html">26.webpack-2-optimize</a></li><li><a href="../html/26.webpack-3-file.html">26.webpack-3-file</a></li><li><a href="../html/26.webpack-4.tapable.html">26.webpack-4.tapable</a></li><li><a href="../html/26.webpack-5-AST.html">26.webpack-5-AST</a></li><li><a href="../html/26.webpack-6-sources.html">26.webpack-6-sources</a></li><li><a href="../html/26.webpack-7-loader.html">26.webpack-7-loader</a></li><li><a href="../html/26.webpack-8-plugin.html">26.webpack-8-plugin</a></li><li><a href="../html/26.webpack-9-hand.html">26.webpack-9-hand</a></li><li><a href="../html/26.webpack-10-prepare.html">26.webpack-10-prepare</a></li><li><a href="../html/28.redux.html">28.redux</a></li><li><a href="../html/28.redux-jwt-back.html">28.redux-jwt-back</a></li><li><a href="../html/28.redux-jwt-front.html">28.redux-jwt-front</a></li><li><a href="../html/29.mongodb-1.html">29.mongodb-1</a></li><li><a href="../html/29.mongodb-2.html">29.mongodb-2</a></li><li><a href="../html/29.mongodb-3.html">29.mongodb-3</a></li><li><a href="../html/29.mongodb-4.html">29.mongodb-4</a></li><li><a href="../html/29.mongodb-5.html">29.mongodb-5</a></li><li><a href="../html/29.mongodb-6.html">29.mongodb-6</a></li><li><a href="../html/30.cms-1-mysql.html">30.cms-1-mysql</a></li><li><a href="../html/30.cms-2-mysql.html">30.cms-2-mysql</a></li><li><a href="../html/30.cms-3-mysql.html">30.cms-3-mysql</a></li><li><a href="../html/30.cms-4-nunjucks.html">30.cms-4-nunjucks</a></li><li><a href="../html/30.cms-5-mock.html">30.cms-5-mock</a></li><li><a href="../html/30.cms-6-egg.html">30.cms-6-egg</a></li><li><a href="../html/30.cms-7-api.html">30.cms-7-api</a></li><li><a href="../html/30.cms-8-roadhog.html">30.cms-8-roadhog</a></li><li><a href="../html/30.cms-9-yaml.html">30.cms-9-yaml</a></li><li><a href="../html/30.cms-10-umi.html">30.cms-10-umi</a></li><li><a href="../html/30.cms-12-dva.html">30.cms-12-dva</a></li><li><a href="../html/30.cms-13-dva-ant.html">30.cms-13-dva-ant</a></li><li><a href="../html/30.cms-14-front.html">30.cms-14-front</a></li><li><a href="../html/30.cms-15-deploy.html">30.cms-15-deploy</a></li><li><a href="../html/31.dva.html">31.dva</a></li><li><a href="../html/31.cms-13-dva-antdesign.html">31.cms-13-dva-antdesign</a></li><li><a href="../html/33.redis.html">33.redis</a></li><li><a href="../html/34.unittest.html">34.unittest</a></li><li><a href="../html/35.jwt.html">35.jwt</a></li><li><a href="../html/36.websocket-1.html">36.websocket-1</a></li><li><a href="../html/36.websocket-2.html">36.websocket-2</a></li><li><a href="../html/38.chat-api-1.html">38.chat-api-1</a></li><li><a href="../html/38.chat-api-2.html">38.chat-api-2</a></li><li><a href="../html/38.chat-3.html">38.chat-3</a></li><li><a href="../html/38.chat-api-3.html">38.chat-api-3</a></li><li><a href="../html/38.chat.html">38.chat</a></li><li><a href="../html/38.chat2.html">38.chat2</a></li><li><a href="../html/38.chat2.html">38.chat2</a></li><li><a href="../html/39.crawl-0.html">39.crawl-0</a></li><li><a href="../html/39.crawl-1.html">39.crawl-1</a></li><li><a href="../html/39.crawl-2.html">39.crawl-2</a></li><li><a href="../html/40.deploy.html">40.deploy</a></li><li><a href="../html/41.safe.html">41.safe</a></li><li><a href="../html/42.test.html">42.test</a></li><li><a href="../html/43.nginx.html">43.nginx</a></li><li><a href="../html/44.enzyme.html">44.enzyme</a></li><li><a href="../html/45.docker.html">45.docker</a></li><li><a href="../html/46.elastic.html">46.elastic</a></li><li><a href="../html/47.oauth.html">47.oauth</a></li><li><a href="../html/48.wxpay.html">48.wxpay</a></li><li><a href="../html/index.html">index</a></li><li><a href="../html/51.typescript.html">51.typescript</a></li><li><a href="../html/52.UML.html">52.UML</a></li><li><a href="../html/53.design.html">53.design</a></li><li><a href="../html/index.html">index</a></li><li><a href="../html/54.linux.html">54.linux</a></li><li><a href="../html/57.ts.html">57.ts</a></li><li><a href="../html/56.react-ssr.html">56.react-ssr</a></li><li><a href="../html/58.ts_react.html">58.ts_react</a></li><li><a href="../html/59.ketang.html">59.ketang</a></li><li><a href="../html/59.ketang2.html">59.ketang2</a></li><li><a href="../html/61.1.devops-linux.html">61.1.devops-linux</a></li><li><a href="../html/61.2.devops-vi.html">61.2.devops-vi</a></li><li><a href="../html/61.3.devops-user.html">61.3.devops-user</a></li><li><a href="../html/61.4.devops-auth.html">61.4.devops-auth</a></li><li><a href="../html/61.5.devops-shell.html">61.5.devops-shell</a></li><li><a href="../html/61.6.devops-install.html">61.6.devops-install</a></li><li><a href="../html/61.7.devops-system.html">61.7.devops-system</a></li><li><a href="../html/61.8.devops-service.html">61.8.devops-service</a></li><li><a href="../html/61.9.devops-network.html">61.9.devops-network</a></li><li><a href="../html/61.10.devops-nginx.html">61.10.devops-nginx</a></li><li><a href="../html/61.11.devops-docker.html">61.11.devops-docker</a></li><li><a href="../html/61.12.devops-jekins.html">61.12.devops-jekins</a></li><li><a href="../html/61.13.devops-groovy.html">61.13.devops-groovy</a></li><li><a href="../html/61.14.devops-php.html">61.14.devops-php</a></li><li><a href="../html/61.15.devops-java.html">61.15.devops-java</a></li><li><a href="../html/61.16.devops-node.html">61.16.devops-node</a></li><li><a href="../html/61.17.devops-k8s.html">61.17.devops-k8s</a></li><li><a href="../html/62.1.react-basic.html">62.1.react-basic</a></li><li><a href="../html/62.2.react-state.html">62.2.react-state</a></li><li><a href="../html/62.3.react-high.html">62.3.react-high</a></li><li><a href="../html/62.4.react-optimize.html">62.4.react-optimize</a></li><li><a href="../html/62.5.react-hooks.html">62.5.react-hooks</a></li><li><a href="../html/62.6.react-immutable.html">62.6.react-immutable</a></li><li><a href="../html/62.7.react-mobx.html">62.7.react-mobx</a></li><li><a href="../html/62.8.react-source.html">62.8.react-source</a></li><li><a href="../html/63.1.redux.html">63.1.redux</a></li><li><a href="../html/63.2.redux-middleware.html">63.2.redux-middleware</a></li><li><a href="../html/63.3.redux-hooks.html">63.3.redux-hooks</a></li><li><a href="../html/63.4.redux-saga.html">63.4.redux-saga</a></li><li><a href="../html/63.5.redux-saga-hand.html">63.5.redux-saga-hand</a></li><li><a href="../html/64.1.router.html">64.1.router</a></li><li><a href="../html/64.2.router-connected.html">64.2.router-connected</a></li><li><a href="../html/65.1.typescript.html">65.1.typescript</a></li><li class="active"><a href="../html/65.2.typescript.html">65.2.typescript</a></li><li><a href="../html/65.3.typescript.html">65.3.typescript</a></li><li><a href="../html/65.4.antd.html">65.4.antd</a></li><li><a href="../html/65.4.definition.html">65.4.definition</a></li><li><a href="../html/66-1.vue-base.html">66-1.vue-base</a></li><li><a href="../html/66-2.vue-component.html">66-2.vue-component</a></li><li><a href="../html/66-3.vue-cli3.0.html">66-3.vue-cli3.0</a></li><li><a href="../html/66-4.$message组件.html">66-4.$message组件</a></li><li><a href="../html/66-5.Form组件.html">66-5.Form组件</a></li><li><a href="../html/66-6.tree.html">66-6.tree</a></li><li><a href="../html/66-7.vue-router-apply.html">66-7.vue-router-apply</a></li><li><a href="../html/66-8.axios-apply.html">66-8.axios-apply</a></li><li><a href="../html/66-9.vuex-apply.html">66-9.vuex-apply</a></li><li><a href="../html/66-10.jwt-vue.html">66-10.jwt-vue</a></li><li><a href="../html/66-11.vue-ssr.html">66-11.vue-ssr</a></li><li><a href="../html/66-12.nuxt-apply.html">66-12.nuxt-apply</a></li><li><a href="../html/66-13.pwa.html">66-13.pwa</a></li><li><a href="../html/66-14.vue单元测试.html">66-14.vue单元测试</a></li><li><a href="../html/66-15.权限校验.html">66-15.权限校验</a></li><li><a href="../html/67-1-network.html">67-1-network</a></li><li><a href="../html/68-2-wireshark.html">68-2-wireshark</a></li><li><a href="../html/7.npm2.html">7.npm2</a></li><li><a href="../html/69-hooks.html">69-hooks</a></li><li><a href="../html/70-deploy.html">70-deploy</a></li><li><a href="../html/71-hmr.html">71-hmr</a></li><li><a href="../html/72.deploy.html">72.deploy</a></li><li><a href="../html/73.import.html">73.import</a></li><li><a href="../html/74.mobile.html">74.mobile</a></li><li><a href="../html/75.webpack-1.文件分析.html">75.webpack-1.文件分析</a></li><li><a href="../html/75.webpack-2.loader.html">75.webpack-2.loader</a></li><li><a href="../html/75.webpack-3.源码流程.html">75.webpack-3.源码流程</a></li><li><a href="../html/75.webpack-4.tapable.html">75.webpack-4.tapable</a></li><li><a href="../html/75.webpack-6.实现.html">75.webpack-6.实现</a></li><li><a href="../html/76.react_optimize.html">76.react_optimize</a></li><li><a href="../html/77.ts_ketang_back.html">77.ts_ketang_back</a></li><li><a href="../html/77.ts_ketang_front.html">77.ts_ketang_front</a></li><li><a href="../html/78.vue-domdiff.html">78.vue-domdiff</a></li><li><a href="../html/79.grammar.html">79.grammar</a></li><li><a href="../html/80.tree.html">80.tree</a></li><li><a href="../html/81.axios.html">81.axios</a></li><li><a href="../html/82.1.react.html">82.1.react</a></li><li><a href="../html/82.2.react-high.html">82.2.react-high</a></li><li><a href="../html/82.3.react-router.html">82.3.react-router</a></li><li><a href="../html/82.4.redux.html">82.4.redux</a></li><li><a href="../html/82.5.redux_middleware.html">82.5.redux_middleware</a></li><li><a href="../html/82.6.connected.html">82.6.connected</a></li><li><a href="../html/82.7.saga.html">82.7.saga</a></li><li><a href="../html/82.8.dva.html">82.8.dva</a></li><li><a href="../html/82.8.dva-source.html">82.8.dva-source</a></li><li><a href="../html/82.9.roadhog.html">82.9.roadhog</a></li><li><a href="../html/82.10.umi.html">82.10.umi</a></li><li><a href="../html/82.11.antdesign.html">82.11.antdesign</a></li><li><a href="../html/82.12.ketang-front.html">82.12.ketang-front</a></li><li><a href="../html/82.12.ketang-back.html">82.12.ketang-back</a></li><li><a href="../html/83.upload.html">83.upload</a></li><li><a href="../html/84.graphql.html">84.graphql</a></li><li><a href="../html/85.antpro.html">85.antpro</a></li><li><a href="../html/86.1.uml.html">86.1.uml</a></li><li><a href="../html/86.2.design.html">86.2.design</a></li><li><a href="../html/87.postcss.html">87.postcss</a></li><li><a href="../html/88.react16-1.html">88.react16-1</a></li><li><a href="../html/89.nextjs.html">89.nextjs</a></li><li><a href="../html/90.react-test.html">90.react-test</a></li><li><a href="../html/91.react-ts.html">91.react-ts</a></li><li><a href="../html/92.rbac.html">92.rbac</a></li><li><a href="../html/93.tsnode.html">93.tsnode</a></li><li><a href="../html/94.1.JavaScript.html">94.1.JavaScript</a></li><li><a href="../html/94.2.JavaScript.html">94.2.JavaScript</a></li><li><a href="../html/94.3.MODULE.html">94.3.MODULE</a></li><li><a href="../html/94.4.EventLoop.html">94.4.EventLoop</a></li><li><a href="../html/94.5.文件上传.html">94.5.文件上传</a></li><li><a href="../html/94.6.https.html">94.6.https</a></li><li><a href="../html/94.7. nginx.html">94.7. nginx</a></li><li><a href="../html/95.1. react.html">95.1. react</a></li><li><a href="../html/95.2.react.html">95.2.react</a></li><li><a href="../html/96.1.react16.html">96.1.react16</a></li><li><a href="../html/96.2.fiber.html">96.2.fiber</a></li><li><a href="../html/96.3.fiber.html">96.3.fiber</a></li><li><a href="../html/97.serverless.html">97.serverless</a></li></ul></div>


<div class="warpper">

    <div class="page-toc">
        <ul><li><a href="#t01. TS中的工程化">1. TS中的工程化</a></li><li><a href="#t12. 编译参数">2. 编译参数</a></li><li><a href="#t23. 代码检查">3. 代码检查</a><ul><li><a href="#t33.1 模块安装">3.1 模块安装</a></li><li><a href="#t43.2 eslintrc配置文件">3.2 eslintrc配置文件</a></li><li><a href="#t53.3 npm命令">3.3 npm命令</a></li><li><a href="#t63.4 配置自动修复">3.4 配置自动修复</a></li></ul></li><li><a href="#t74. Git Hooks 检查">4. Git Hooks 检查</a><ul><li><a href="#t84.1 pre-commit">4.1 pre-commit</a></li><li><a href="#t94.2 安装pre-commit">4.2 安装pre-commit</a></li><li><a href="#t104.3 配置脚本">4.3 配置脚本</a></li></ul></li><li><a href="#t115. 单元测试">5. 单元测试</a><ul><li><a href="#t125.1 安装">5.1 安装</a></li><li><a href="#t135.2 sum.ts">5.2 sum.ts</a></li><li><a href="#t145.3 sum.test.ts">5.3 sum.test.ts</a></li><li><a href="#t155.4 断言库">5.4 断言库</a><ul><li><a href="#t165.4.1 assert">5.4.1 assert</a></li><li><a href="#t175.4.2 chai">5.4.2 chai</a></li></ul></li><li><a href="#t185.5 指定测试脚本文件">5.5 指定测试脚本文件</a></li><li><a href="#t195.6 tsconfig.json">5.6 tsconfig.json</a></li><li><a href="#t205.7 package.json">5.7 package.json</a></li><li><a href="#t215.8 配置文件mocha.opts">5.8 配置文件mocha.opts</a></li><li><a href="#t225.9 方法调用">5.9 方法调用</a><ul><li><a href="#t235.9.1 要测试的类">5.9.1 要测试的类</a></li><li><a href="#t245.9.2 spy">5.9.2 spy</a></li><li><a href="#t255.9.3 stub">5.9.3 stub</a></li><li><a href="#t265.9.4 mock">5.9.4 mock</a></li></ul></li></ul></li><li><a href="#t276. 为JS添加TS支持">6. 为JS添加TS支持</a><ul><li><a href="#t286.1 sum.js">6.1 sum.js</a></li><li><a href="#t296.3 sum.test.ts">6.3 sum.test.ts</a></li><li><a href="#t306.3 tsconfig.json">6.3 tsconfig.json</a></li></ul></li><li><a href="#t317. 持续集成">7. 持续集成</a><ul><li><a href="#t327.1 登录并创建项目">7.1 登录并创建项目</a></li><li><a href="#t337.2 .travis.yml">7.2 .travis.yml</a></li><li><a href="#t347.3 运行流程">7.3 运行流程</a><ul><li><a href="#t357.3.1 运行流程">7.3.1 运行流程</a></li><li><a href="#t367.3.2 install">7.3.2 install</a></li><li><a href="#t377.3.3 script">7.3.3 script</a></li><li><a href="#t387.3.4 钩子方法">7.3.4 钩子方法</a></li></ul></li><li><a href="#t397.4 实战">7.4 实战</a><ul><li><a href="#t407.4.1 安装hexo">7.4.1 安装hexo</a></li><li><a href="#t417.4.2 生成项目">7.4.2 生成项目</a></li><li><a href="#t427.4.3 启动项目">7.4.3 启动项目</a></li><li><a href="#t437.4.4 布署项目">7.4.4 布署项目</a></li><li><a href="#t447.4.5 同步仓库">7.4.5 同步仓库</a></li><li><a href="#t457.4.6 设置仓库环境变量">7.4.6 设置仓库环境变量</a></li><li><a href="#t467.4.7 Github生成访问令牌 (即添加授权)">7.4.7 Github生成访问令牌 (即添加授权)</a></li><li><a href="#t477.4.8 .travis.yml">7.4.8 .travis.yml</a></li></ul></li></ul></li></ul>
    </div>
    
    <div class="content markdown-body">
        <h2 id="t01. TS&#x4E2D;&#x7684;&#x5DE5;&#x7A0B;&#x5316;">1. TS&#x4E2D;&#x7684;&#x5DE5;&#x7A0B;&#x5316; <a href="#t01. TS&#x4E2D;&#x7684;&#x5DE5;&#x7A0B;&#x5316;"> # </a></h2>
<ul>
<li>&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x5316;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x6D41;&#x7A0B;&#x89C4;&#x8303;&#x5316;&#x3001;&#x6807;&#x51C6;&#x5316;&#x63D0;&#x5347;&#x56E2;&#x961F;&#x534F;&#x4F5C;&#x6548;&#x7387;</li>
<li>&#x901A;&#x8FC7;&#x7EC4;&#x4EF6;&#x5316;&#x3001;&#x6A21;&#x5757;&#x5316;&#x63D0;&#x5347;&#x4EE3;&#x7801;&#x8D28;&#x91CF;</li>
<li>&#x4F7F;&#x7528;&#x6784;&#x5EFA;&#x5DE5;&#x5177;&#x3001;&#x81EA;&#x52A8;&#x5316;&#x5DE5;&#x5177;&#x63D0;&#x5347;&#x5F00;&#x53D1;&#x6548;&#x7387;</li>
<li>&#x7F16;&#x8BD1; =&gt; &#x6253;&#x5305;(&#x5408;&#x5E76;) =&gt; &#x538B;&#x7F29; =&gt; &#x4EE3;&#x7801;&#x68C0;&#x67E5; =&gt; &#x6D4B;&#x8BD5; =&gt; &#x6301;&#x7EED;&#x96C6;&#x6210;</li>
</ul>
<h2 id="t12. &#x7F16;&#x8BD1;&#x53C2;&#x6570;">2. &#x7F16;&#x8BD1;&#x53C2;&#x6570; <a href="#t12. &#x7F16;&#x8BD1;&#x53C2;&#x6570;"> # </a></h2>
<ul>
<li><a href="https://www.tslang.cn/docs/handbook/compiler-options.html">&#x7F16;&#x8BD1;&#x53C2;&#x6570;</a></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:left">&#x529F;&#x80FD;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">rootDir,outDir</td>
<td style="text-align:left">&#x914D;&#x7F6E;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x76EE;&#x5F55;</td>
</tr>
<tr>
<td style="text-align:left">lib,jsx</td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x57FA;&#x7840;&#x5E93;&#x7684;&#x80FD;&#x529B;</td>
</tr>
<tr>
<td style="text-align:left">noImplicitAny,strict</td>
<td style="text-align:left">&#x66F4;&#x4E25;&#x683C;&#x7684;&#x6A21;&#x5F0F;</td>
</tr>
<tr>
<td style="text-align:left">module,target,declaration,sourceMap</td>
<td style="text-align:left">&#x63A7;&#x5236;&#x8F93;&#x51FA;&#x7684;&#x5185;&#x5BB9;</td>
</tr>
<tr>
<td style="text-align:left">watch</td>
<td style="text-align:left">&#x89C2;&#x5BDF;&#x6A21;&#x5F0F;</td>
</tr>
<tr>
<td style="text-align:left">allowJs</td>
<td style="text-align:left">&#x5141;&#x8BB8;&#x7F16;&#x8BD1;javascript&#x6587;&#x4EF6;</td>
</tr>
</tbody>
</table>
<h2 id="t23. &#x4EE3;&#x7801;&#x68C0;&#x67E5;">3. &#x4EE3;&#x7801;&#x68C0;&#x67E5; <a href="#t23. &#x4EE3;&#x7801;&#x68C0;&#x67E5;"> # </a></h2>
<ul>
<li>ESLint &#x662F;&#x4E00;&#x6B3E;&#x63D2;&#x4EF6;&#x5316;&#x7684; JavaScript &#x9759;&#x6001;&#x4EE3;&#x7801;&#x68C0;&#x67E5;&#x5DE5;&#x5177;&#xFF0C;ESLint &#x901A;&#x8FC7;&#x89C4;&#x5219;&#x6765;&#x63CF;&#x8FF0;&#x5177;&#x4F53;&#x7684;&#x68C0;&#x67E5;&#x884C;&#x4E3A;</li>
<li><a href="https://eslint.org">eslint</a></li>
</ul>
<h3 id="t33.1 &#x6A21;&#x5757;&#x5B89;&#x88C5;">3.1 &#x6A21;&#x5757;&#x5B89;&#x88C5; <a href="#t33.1 &#x6A21;&#x5757;&#x5B89;&#x88C5;"> # </a></h3>
<pre><code class="lang-js">cnpm i eslint typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin --save-dev
</code></pre>
<h3 id="t43.2 eslintrc&#x914D;&#x7F6E;&#x6587;&#x4EF6;">3.2 eslintrc&#x914D;&#x7F6E;&#x6587;&#x4EF6; <a href="#t43.2 eslintrc&#x914D;&#x7F6E;&#x6587;&#x4EF6;"> # </a></h3>
<ul>
<li><a href="https://eslint.org/docs/rules/">&#x82F1;&#x6587;rules</a></li>
<li><a href="https://cn.eslint.org/docs/rules/">&#x4E2D;&#x6587;rules</a></li>
<li>&#x9700;&#x8981;&#x6DFB;&#x52A0;<code>parserOptions</code>&#x4EE5;&#x652F;&#x6301;&#x6A21;&#x5757;&#x5316;&#x7684;&#x5199;&#x6CD5;</li>
<li>.eslintrc.js</li>
</ul>
<pre><code class="lang-js"><span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-string">&quot;parser&quot;</span>:<span class="hljs-string">&quot;@typescript-eslint/parser&quot;</span>,
    <span class="hljs-string">&quot;plugins&quot;</span>:[<span class="hljs-string">&quot;@typescript-eslint&quot;</span>],
    <span class="hljs-string">&quot;rules&quot;</span>:{
        <span class="hljs-string">&quot;no-var&quot;</span>:<span class="hljs-string">&quot;error&quot;</span>,
        <span class="hljs-string">&quot;no-extra-semi&quot;</span>:<span class="hljs-string">&quot;error&quot;</span>,
        <span class="hljs-string">&quot;@typescript-eslint/indent&quot;</span>:[<span class="hljs-string">&quot;error&quot;</span>,<span class="hljs-number">2</span>]
    },
    <span class="hljs-string">&quot;parserOptions&quot;</span>: {
        <span class="hljs-string">&quot;ecmaVersion&quot;</span>: <span class="hljs-number">6</span>,
        <span class="hljs-string">&quot;sourceType&quot;</span>: <span class="hljs-string">&quot;module&quot;</span>,
        <span class="hljs-string">&quot;ecmaFeatures&quot;</span>: {
          <span class="hljs-string">&quot;modules&quot;</span>: <span class="hljs-literal">true</span>
        }
    }
}
</code></pre>
<h3 id="t53.3 npm&#x547D;&#x4EE4;">3.3 npm&#x547D;&#x4EE4; <a href="#t53.3 npm&#x547D;&#x4EE4;"> # </a></h3>
<pre><code class="lang-json">&quot;scripts&quot;: {
    &quot;start&quot;: &quot;webpack&quot;,
    &quot;build&quot;: &quot;tsc&quot;,
    &quot;eslint&quot;: &quot;eslint src --ext .ts&quot;,
    &quot;eslint:fix&quot;: &quot;eslint src --ext .ts --fix&quot;
  }
</code></pre>
<p>&#x4EE3;&#x7801;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> name2 = <span class="hljs-string">&apos;zhufeng&apos;</span>;;;
<span class="hljs-keyword">if</span>(<span class="hljs-literal">true</span>){
    <span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;
}
</code></pre>
<p>&#x68C0;&#x67E5;&#x7ED3;&#x679C;</p>
<pre><code class="lang-js">src\helloworld.ts
  <span class="hljs-number">1</span>:<span class="hljs-number">1</span>   error  Unexpected <span class="hljs-keyword">var</span>, use <span class="hljs-keyword">let</span> or <span class="hljs-keyword">const</span> instead      no-<span class="hljs-keyword">var</span>
  <span class="hljs-number">1</span>:<span class="hljs-number">23</span>  error  Unnecessary semicolon                         no-extra-semi
  <span class="hljs-number">1</span>:<span class="hljs-number">24</span>  error  Unnecessary semicolon                         no-extra-semi
  <span class="hljs-number">3</span>:<span class="hljs-number">1</span>   error  Expected indentation <span class="hljs-keyword">of</span> <span class="hljs-number">2</span> spaces but found <span class="hljs-number">4</span>  @typescript-eslint/inden
</code></pre>
<h3 id="t63.4 &#x914D;&#x7F6E;&#x81EA;&#x52A8;&#x4FEE;&#x590D;">3.4 &#x914D;&#x7F6E;&#x81EA;&#x52A8;&#x4FEE;&#x590D; <a href="#t63.4 &#x914D;&#x7F6E;&#x81EA;&#x52A8;&#x4FEE;&#x590D;"> # </a></h3>
<ul>
<li>&#x5B89;&#x88C5;vscode&#x7684;eslint&#x63D2;&#x4EF6;</li>
<li>&#x914D;&#x7F6E;&#x53C2;&#x6570;
.vscode\settings.json<pre><code class="lang-js">{
  <span class="hljs-string">&quot;eslint.autoFixOnSave&quot;</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">&quot;eslint.validate&quot;</span>: [
      <span class="hljs-string">&quot;javascript&quot;</span>,
      <span class="hljs-string">&quot;javascriptreact&quot;</span>,
      {
          <span class="hljs-string">&quot;language&quot;</span>: <span class="hljs-string">&quot;typescript&quot;</span>,
          <span class="hljs-string">&quot;autoFix&quot;</span>: <span class="hljs-literal">true</span>
      },
       {
          <span class="hljs-string">&quot;language&quot;</span>: <span class="hljs-string">&quot;typescriptreact&quot;</span>,
          <span class="hljs-string">&quot;autoFix&quot;</span>: <span class="hljs-literal">true</span>
      }
  ]
}
</code></pre>
<img src="http://img.zhufengpeixun.cn/eslintplugin.png" alt="eslintplugin"></li>
</ul>
<p><img src="http://img.zhufengpeixun.cn/eslint.png" alt="eslint"></p>
<h2 id="t74. Git Hooks &#x68C0;&#x67E5;">4. Git Hooks &#x68C0;&#x67E5; <a href="#t74. Git Hooks &#x68C0;&#x67E5;"> # </a></h2>
<ul>
<li>Git &#x57FA;&#x672C;&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#x9ED8;&#x8BA4;&#x7684;&#x7248;&#x672C;&#x7BA1;&#x7406;&#x8F6F;&#x4EF6;&#xFF0C;&#x5728;&#x4F7F;&#x7528; Git &#x7684;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E3A;&#x9879;&#x76EE;&#x8BBE;&#x7F6E; Git Hooks &#x6765;&#x5E2E;&#x6211;&#x4EEC;&#x5728;&#x63D0;&#x4EA4;&#x4EE3;&#x7801;&#x7684;&#x5404;&#x4E2A;&#x9636;&#x6BB5;&#x505A;&#x4E00;&#x4E9B;&#x4EE3;&#x7801;&#x68C0;&#x67E5;&#x7B49;&#x5DE5;&#x4F5C;</li>
<li>&#x94A9;&#x5B50;&#xFF08;Hooks&#xFF09; &#x90FD;&#x88AB;&#x5B58;&#x50A8;&#x5728; Git &#x76EE;&#x5F55;&#x4E0B;&#x7684; hooks &#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x3002; &#x4E5F;&#x5C31;&#x662F;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x9879;&#x76EE;&#x4E2D;&#x7684; .git/hooks &#x76EE;&#x5F55;</li>
<li><a href="https://git-scm.com/book/zh/v2/%E8%87%AA%E5%AE%9A%E4%B9%89-Git-Git-%E9%92%A9%E5%AD%90">&#x94A9;&#x5B50;</a>&#x5206;&#x4E3A;&#x4E24;&#x5927;&#x7C7B;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;<ul>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x94A9;&#x5B50;&#x4E3B;&#x8981;&#x88AB;&#x63D0;&#x4EA4;&#x548C;&#x5408;&#x5E76;&#x8FD9;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#x6240;&#x8C03;&#x7528;</li>
<li>&#x800C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x94A9;&#x5B50;&#x4F5C;&#x7528;&#x4E8E;&#x63A5;&#x6536;&#x88AB;&#x63A8;&#x9001;&#x7684;&#x63D0;&#x4EA4;&#x8FD9;&#x6837;&#x7684;&#x8054;&#x7F51;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x5BA2;&#x6237;&#x7AEF;&#x94A9;&#x5B50;</li>
</ul>
</li>
</ul>
<h3 id="t84.1 pre-commit">4.1 pre-commit <a href="#t84.1 pre-commit"> # </a></h3>
<ul>
<li><code>pre-commit</code> &#x5C31;&#x662F;&#x5728;&#x4EE3;&#x7801;&#x63D0;&#x4EA4;&#x4E4B;&#x524D;&#x505A;&#x4E9B;&#x4E1C;&#x897F;&#xFF0C;&#x6BD4;&#x5982;&#x4EE3;&#x7801;&#x6253;&#x5305;&#xFF0C;&#x4EE3;&#x7801;&#x68C0;&#x6D4B;&#xFF0C;&#x79F0;&#x4E4B;&#x4E3A;&#x94A9;&#x5B50;&#xFF08;hook&#xFF09;</li>
<li>&#x5728;commit&#x4E4B;&#x524D;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF08;callback&#xFF09;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6210;&#x529F;&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x7EE7;&#x7EED;commit&#xFF0C;&#x4F46;&#x662F;&#x5931;&#x8D25;&#x4E4B;&#x540E;&#x5C31;&#x963B;&#x6B62;commit</li>
<li>&#x5728;.git-&gt;hooks-&gt;&#x4E0B;&#x9762;&#x6709;&#x4E2A;pre-commit.sample*&#xFF0C;&#x8FD9;&#x4E2A;&#x91CC;&#x9762;&#x5C31;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x51FD;&#x6570;(&#x811A;&#x672C;)&#x6837;&#x672C;</li>
</ul>
<h3 id="t94.2 &#x5B89;&#x88C5;pre-commit">4.2 &#x5B89;&#x88C5;pre-commit <a href="#t94.2 &#x5B89;&#x88C5;pre-commit"> # </a></h3>
<pre><code class="lang-js">npm install pre-commit --save-dev
</code></pre>
<h3 id="t104.3 &#x914D;&#x7F6E;&#x811A;&#x672C;">4.3 &#x914D;&#x7F6E;&#x811A;&#x672C; <a href="#t104.3 &#x914D;&#x7F6E;&#x811A;&#x672C;"> # </a></h3>
<pre><code class="lang-json">&quot;scripts&quot;: {
    &quot;build&quot;: &quot;tsc&quot;,
    &quot;eslint&quot;: &quot;eslint src --ext .ts&quot;,
    &quot;eslint:fix&quot;: &quot;eslint src --ext .ts --fix&quot;
  },
  &quot;pre-commit&quot;: [
    &quot;eslint&quot;
  ]
</code></pre>
<blockquote>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5728;<code>.git-&gt;hooks</code>&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;<code>pre-commit</code>&#x6587;&#x4EF6;&#x7684;&#x8BDD;&#xFF0C;&#x5219;&#x8981;&#x624B;&#x5DE5;&#x521B;&#x5EFA;<code>node ./node_modules/pre-commit/install.js</code></p>
</blockquote>
<h2 id="t115. &#x5355;&#x5143;&#x6D4B;&#x8BD5;">5. &#x5355;&#x5143;&#x6D4B;&#x8BD5; <a href="#t115. &#x5355;&#x5143;&#x6D4B;&#x8BD5;"> # </a></h2>
<ul>
<li>Mocha&#x662F;&#x73B0;&#x5728;&#x6700;&#x6D41;&#x884C;&#x7684;JavaScript&#x6D4B;&#x8BD5;&#x6846;&#x67B6;&#x4E4B;&#x4E00;&#xFF0C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x548C;Node&#x73AF;&#x5883;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;</li>
<li>&#x6240;&#x8C13;&quot;&#x6D4B;&#x8BD5;&#x6846;&#x67B6;&quot;&#xFF0C;&#x5C31;&#x662F;&#x8FD0;&#x884C;&#x6D4B;&#x8BD5;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x901A;&#x8FC7;&#x5B83;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;JavaScript&#x5E94;&#x7528;&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x4EE3;&#x7801;&#x7684;&#x8D28;&#x91CF;</li>
</ul>
<h3 id="t125.1 &#x5B89;&#x88C5;">5.1 &#x5B89;&#x88C5; <a href="#t125.1 &#x5B89;&#x88C5;"> # </a></h3>
<pre><code class="lang-js">cnpm i mocha  @types/mocha chai @types/chai ts-node @types/node  --save-dev
</code></pre>
<h3 id="t135.2 sum.ts">5.2 sum.ts <a href="#t135.2 sum.ts"> # </a></h3>
<pre><code class="lang-js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">x:number,y:number</span>):<span class="hljs-title">number</span></span>{
  <span class="hljs-keyword">return</span> x + y;
}
</code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">x:number,y:number</span>)</span>{
  <span class="hljs-keyword">return</span> (x+y).toPrecision(<span class="hljs-number">10</span>);
}
</code></pre>
<h3 id="t145.3 sum.test.ts">5.3 sum.test.ts <a href="#t145.3 sum.test.ts"> # </a></h3>
<ul>
<li>&#x901A;&#x5E38;&#xFF0C;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x4E0E;&#x6240;&#x8981;&#x6D4B;&#x8BD5;&#x7684;&#x6E90;&#x7801;&#x811A;&#x672C;&#x540C;&#x540D;&#xFF0C;&#x4F46;&#x662F;&#x540E;&#x7F00;&#x540D;&#x4E3A;.test.js&#xFF08;&#x8868;&#x793A;&#x6D4B;&#x8BD5;&#xFF09;&#x6216;&#x8005;.spec.js&#xFF08;&#x8868;&#x793A;&#x89C4;&#x683C;&#xFF09;&#x3002;&#x6BD4;&#x5982;&#xFF0C;add.js&#x7684;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x540D;&#x5B57;&#x5C31;&#x662F;add.test.js</li>
<li>&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x91CC;&#x9762;&#x5E94;&#x8BE5;&#x5305;&#x62EC;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;describe&#x5757;&#xFF0C;&#x6BCF;&#x4E2A;describe&#x5757;&#x5E94;&#x8BE5;&#x5305;&#x62EC;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;it&#x5757;</li>
<li>describe&#x5757;&#x79F0;&#x4E3A;&quot;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&quot;&#xFF08;test suite&#xFF09;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x7EC4;&#x76F8;&#x5173;&#x7684;&#x6D4B;&#x8BD5;&#x3002;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#xFF08;&quot;&#x52A0;&#x6CD5;&#x51FD;&#x6570;&#x7684;&#x6D4B;&#x8BD5;&quot;&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;&#x3002;</li>
<li>it&#x5757;&#x79F0;&#x4E3A;&quot;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&quot;&#xFF08;test case&#xFF09;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x662F;&#x6D4B;&#x8BD5;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#x3002;&#x5B83;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x7684;&#x540D;&#x79F0;&#xFF08;&quot;1 &#x52A0; 1 &#x5E94;&#x8BE5;&#x7B49;&#x4E8E; 2&quot;&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;&#x3002;</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> sum <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../src/sum&apos;</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> assert <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;assert&apos;</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> chai <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;chai&apos;</span>
describe(<span class="hljs-string">&apos;test sum&apos;</span>,()=&gt;{
  it(<span class="hljs-string">&apos;1+1=2&apos;</span>,()=&gt;{
    assert.equal(sum(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>),<span class="hljs-number">2</span>);
  })
  it(<span class="hljs-string">&apos;2+2=4&apos;</span>,()=&gt;{
    chai.expect(<span class="hljs-number">2</span>+<span class="hljs-number">2</span>).to.be.equal(<span class="hljs-number">4</span>);
  })
});
</code></pre>
<pre><code class="lang-js">it(<span class="hljs-string">&apos;0.1+0.2=0.3&apos;</span>,()=&gt;{
    assert.equal(sum(<span class="hljs-number">.1</span>,<span class="hljs-number">.2</span>),<span class="hljs-number">.3</span>);
})
</code></pre>
<h3 id="t155.4 &#x65AD;&#x8A00;&#x5E93;">5.4 &#x65AD;&#x8A00;&#x5E93; <a href="#t155.4 &#x65AD;&#x8A00;&#x5E93;"> # </a></h3>
<ul>
<li>&#x6240;&#x8C13;&quot;&#x65AD;&#x8A00;&quot;&#xFF0C;&#x5C31;&#x662F;&#x5224;&#x65AD;&#x6E90;&#x7801;&#x7684;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x4E0E;&#x9884;&#x671F;&#x7ED3;&#x679C;&#x662F;&#x5426;&#x4E00;&#x81F4;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x4E00;&#x81F4;&#x5C31;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;</li>
<li>&#x6240;&#x6709;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#xFF08;it&#x5757;&#xFF09;&#x90FD;&#x5E94;&#x8BE5;&#x542B;&#x6709;&#x4E00;&#x53E5;&#x6216;&#x591A;&#x53E5;&#x7684;&#x65AD;&#x8A00;&#x3002;&#x5B83;&#x662F;&#x7F16;&#x5199;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x7684;&#x5173;&#x952E;&#x3002;&#x65AD;&#x8A00;&#x529F;&#x80FD;&#x7531;&#x65AD;&#x8A00;&#x5E93;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;Mocha&#x672C;&#x8EAB;&#x4E0D;&#x5E26;&#x65AD;&#x8A00;&#x5E93;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x5148;&#x5F15;&#x5165;&#x65AD;&#x8A00;&#x5E93;</li>
</ul>
<h4 id="t165.4.1 assert">5.4.1 assert <a href="#t165.4.1 assert"> # </a></h4>
<ul>
<li>assert.equal &#x7528;&#x4E8E;&#x5224;&#x65AD;&#x4E24;&#x4E2A;&#x503C;&#x662F;&#x5426;&#x76F8;&#x7B49;</li>
</ul>
<h4 id="t175.4.2 chai">5.4.2 chai <a href="#t175.4.2 chai"> # </a></h4>
<pre><code class="lang-js"><span class="hljs-comment">// &#x76F8;&#x7B49;&#x6216;&#x4E0D;&#x76F8;&#x7B49;</span>
expect(<span class="hljs-number">1</span> + <span class="hljs-number">1</span>).to.be.equal(<span class="hljs-number">2</span>);
expect(<span class="hljs-number">1</span> + <span class="hljs-number">1</span>).to.be.not.equal(<span class="hljs-number">3</span>);
<span class="hljs-keyword">let</span> a = {<span class="hljs-attr">name</span>:<span class="hljs-string">&apos;zhufeng&apos;</span>};<span class="hljs-keyword">let</span> b = {<span class="hljs-attr">name</span>:<span class="hljs-string">&apos;zhufeng&apos;</span>};
expect(a).to.be.deep.equal(b);

<span class="hljs-comment">// &#x5E03;&#x5C14;&#x503C;&#x4E3A;true</span>
expect(<span class="hljs-literal">true</span>).to.be.ok;
expect(<span class="hljs-literal">false</span>).to.not.be.ok;

<span class="hljs-comment">// &#x7C7B;&#x578B;&#x5224;&#x65AD;</span>
expect(<span class="hljs-string">&apos;zhufeng&apos;</span>).to.be.a(<span class="hljs-string">&apos;string&apos;</span>);
expect({<span class="hljs-attr">name</span>:<span class="hljs-string">&apos;zhufeng&apos;</span>}).to.be.an(<span class="hljs-string">&apos;object&apos;</span>);
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>{}
<span class="hljs-keyword">let</span> person = <span class="hljs-keyword">new</span> Person();
expect(person).to.be.an.instanceof(Person);

<span class="hljs-comment">//&#x5305;&#x542B;</span>
expect([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]).to.include(<span class="hljs-number">2</span>);
expect(<span class="hljs-string">&apos;zhufeng&apos;</span>).to.contain(<span class="hljs-string">&apos;feng&apos;</span>);
expect({ <span class="hljs-attr">name</span>: <span class="hljs-string">&apos;zhufeng&apos;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">9</span> }).to.include.keys(<span class="hljs-string">&apos;name&apos;</span>);

<span class="hljs-comment">// &#x662F;&#x5426;&#x4E3A;&#x7A7A;</span>
expect([]).to.be.empty;
expect(<span class="hljs-string">&apos;&apos;</span>).to.be.empty;
expect({}).to.be.empty;

<span class="hljs-comment">// &#x6B63;&#x5219;&#x5339;&#x914D;</span>
expect(<span class="hljs-string">&apos;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b3c9dbc6d5d6ddd4dddcd7d6d9c0f38281859dd0dcde">[email&#160;protected]</a>&apos;</span>).to.match(<span class="hljs-regexp">/^zhufeng/</span>);
</code></pre>
<blockquote>
<p>&#x5934;&#x90E8;&#x662F;expect&#x65B9;&#x6CD5;&#xFF0C;&#x5C3E;&#x90E8;&#x662F;&#x65AD;&#x8A00;&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;equal&#x3001;a/an&#x3001;ok&#x3001;match&#x7B49;&#x3002;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;to&#x6216;to.be&#x8FDE;&#x63A5;</p>
</blockquote>
<h3 id="t185.5 &#x6307;&#x5B9A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x6587;&#x4EF6;">5.5 &#x6307;&#x5B9A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x6587;&#x4EF6; <a href="#t185.5 &#x6307;&#x5B9A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x6587;&#x4EF6;"> # </a></h3>
<ul>
<li>mocha&#x547D;&#x4EE4;&#x540E;&#x9762;&#x7D27;&#x8DDF;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x7684;&#x8DEF;&#x5F84;&#x548C;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x3002;</li>
<li>Mocha&#x9ED8;&#x8BA4;&#x8FD0;&#x884C;test&#x5B50;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x7684;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x628A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x653E;&#x5728;test&#x76EE;&#x5F55;&#x91CC;&#x9762;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;mocha&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x53C2;&#x6570;&#x4E86;</li>
<li>&#x52A0;&#x4E0A;--recursive&#x53C2;&#x6570;&#xFF0C;&#x5C31;&#x4F1A;&#x6267;&#x884C;test&#x5B50;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x6240;&#x6709;&#x7684;&#x5C42;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;</li>
<li>&#x547D;&#x4EE4;&#x884C;&#x6307;&#x5B9A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;&#xFF0C;&#x540C;&#x65F6;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x6587;&#x4EF6;</li>
</ul>
<pre><code class="lang-js">mocha spec/{a,b}.js      &#x6267;&#x884C;spec&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x7684;a.js&#x548C;b.js
mocha test<span class="hljs-comment">/*.js     &#x6267;&#x884C;test&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;
mocha test/**/</span>*.js   &#x6267;&#x884C;test&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x4EFB;&#x4F55;&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x3001;&#x6587;&#x4EF6;&#x540E;&#x7F00;&#x540D;&#x4E3A;js&#x7684;&#x6D4B;&#x8BD5;&#x811A;&#x672C;
</code></pre>
<h3 id="t195.6 tsconfig.json">5.6 tsconfig.json <a href="#t195.6 tsconfig.json"> # </a></h3>
<pre><code class="lang-json">{
  <span class="hljs-attr">&quot;compilerOptions&quot;</span>: {
    <span class="hljs-attr">&quot;module&quot;</span>: <span class="hljs-string">&quot;commonjs&quot;</span>
  }
</code></pre>
<h3 id="t205.7 package.json">5.7 package.json <a href="#t205.7 package.json"> # </a></h3>
<ul>
<li>mocha&#x547D;&#x4EE4;&#x540E;&#x9762;&#x7D27;&#x8DDF;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x7684;&#x8DEF;&#x5F84;&#x548C;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;</li>
<li>Mocha&#x9ED8;&#x8BA4;&#x8FD0;&#x884C;<code>test</code>&#x5B50;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x7684;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x628A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x653E;&#x5728;<code>test</code>&#x76EE;&#x5F55;&#x91CC;&#x9762;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;mocha&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x53C2;&#x6570;&#x4E86;</li>
<li>&#x52A0;&#x4E0A;--recursive&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x5B50;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x6240;&#x6709;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x90FD;&#x4F1A;&#x6267;&#x884C;</li>
</ul>
<pre><code class="lang-json">  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;set TS_NODE_COMPILER_OPTIONS={\&quot;module\&quot;:\&quot;commonjs\&quot;}  &amp;&amp; mocha --require ts-node/register --watch --watch-extensions ts test/**/*&quot;
  },
</code></pre>
<blockquote>
<p>&#x5982;&#x679C;&quot;module&quot;: &quot;es2015&quot;&#x7684;&#x8BDD;&#x5219;&#x9700;&#x8981;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x914D;&#x7F6E;module&#x89C4;&#x8303;</p>
</blockquote>
<h3 id="t215.8 &#x914D;&#x7F6E;&#x6587;&#x4EF6;mocha.opts">5.8 &#x914D;&#x7F6E;&#x6587;&#x4EF6;mocha.opts <a href="#t215.8 &#x914D;&#x7F6E;&#x6587;&#x4EF6;mocha.opts"> # </a></h3>
<ul>
<li>Mocha&#x5141;&#x8BB8;&#x5728;test&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#xFF0C;&#x653E;&#x7F6E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;mocha.opts&#xFF0C;&#x628A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x5199;&#x5728;&#x91CC;&#x9762;</li>
</ul>
<pre><code class="lang-json">--require ts-node/register 
--watch 
--watch-extensions ts
test/sum.test.ts
</code></pre>
<h3 id="t225.9 &#x65B9;&#x6CD5;&#x8C03;&#x7528;">5.9 &#x65B9;&#x6CD5;&#x8C03;&#x7528; <a href="#t225.9 &#x65B9;&#x6CD5;&#x8C03;&#x7528;"> # </a></h3>
<ul>
<li>Sinon &#x662F;&#x7528;&#x4E8E; JavaScript &#x7684;&#x6D4B;&#x8BD5;&#x6846;&#x67B6;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x6846;&#x67B6;&#x3002;</li>
<li>Sinon &#x5C06;&#x6D4B;&#x8BD5;&#x4E3A;&#x4E09;&#x79CD;&#x7C7B;&#x578B;&#xFF1A;<ul>
<li>Spies&#xFF1A;&#x63D0;&#x4F9B;&#x6709;&#x5173;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5176;&#x884C;&#x4E3A;</li>
<li>Stubs&#xFF1A;&#x7C7B;&#x4F3C;&#x4E8E; Spies&#xFF0C;&#x4F46;&#x5B8C;&#x5168;&#x53D6;&#x4EE3;&#x4E86;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x5B58;&#x6839;&#x51FD;&#x6570;&#x505A;&#x4EFB;&#x4F55;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x4E8B;&#x60C5; - &#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x503C;&#x7B49;&#x7B49;</li>
<li>Mocks&#xFF1A;&#x901A;&#x8FC7;&#x7EC4;&#x5408; Spies &#x548C; Stubs&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x8F7B;&#x677E;&#x5730;&#x66FF;&#x6362;&#x6574;&#x4E2A;&#x5BF9;&#x8C61;</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">&#x76D1;&#x63A7;&#x51FD;&#x6570;&#x6267;&#x884C;</th>
<th style="text-align:left">&#x771F;&#x6B63;&#x6267;&#x884C;&#x539F;&#x51FD;&#x6570;</th>
<th style="text-align:left">&#x66FF;&#x6362;&#x539F;&#x6709;&#x5B9E;&#x73B0;</th>
<th style="text-align:left">&#x63D0;&#x4F9B;&#x884C;&#x4E3A;&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">spy</td>
<td style="text-align:left">&#x662F;</td>
<td style="text-align:left">&#x662F;</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">stub</td>
<td style="text-align:left">&#x662F;</td>
<td style="text-align:left"></td>
<td style="text-align:left">&#x662F;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">mock</td>
<td style="text-align:left">&#x662F;</td>
<td style="text-align:left"></td>
<td style="text-align:left">&#x662F;</td>
<td style="text-align:left">&#x662F;</td>
</tr>
</tbody>
</table>
<pre><code class="lang-js">npm install sinon @types/sinon -D
</code></pre>
<h4 id="t235.9.1 &#x8981;&#x6D4B;&#x8BD5;&#x7684;&#x7C7B;">5.9.1 &#x8981;&#x6D4B;&#x8BD5;&#x7684;&#x7C7B; <a href="#t235.9.1 &#x8981;&#x6D4B;&#x8BD5;&#x7684;&#x7C7B;"> # </a></h4>
<p>src\todo.ts</p>
<pre><code class="lang-js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todos</span></span>{
  private todos:string[]=[]
  private store:any
  <span class="hljs-keyword">constructor</span>(store:any){
    <span class="hljs-keyword">this</span>.store=store;
  }  
  add(todo:string){
    <span class="hljs-keyword">this</span>.todos.push(todo);
  }
  print(){
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.todos);
  }
  save(){
    <span class="hljs-keyword">this</span>.store.save(<span class="hljs-keyword">this</span>.todos);
  }
}
</code></pre>
<h4 id="t245.9.2 spy">5.9.2 spy <a href="#t245.9.2 spy"> # </a></h4>
<ul>
<li>&#x63D0;&#x4F9B;&#x6709;&#x5173;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5176;&#x884C;&#x4E3A;<pre><code class="lang-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> sinon <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;sinon&quot;</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span>  chai  <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;chai&quot;</span>;
<span class="hljs-keyword">import</span> Todos <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../src/todos&quot;</span>;
describe(<span class="hljs-string">&quot;&#x6D4B;&#x8BD5; Todos&quot;</span>, () =&gt; {
it(<span class="hljs-string">&quot;spy print&quot;</span>, () =&gt; {
  <span class="hljs-keyword">let</span> store = {save(){}};
  <span class="hljs-keyword">const</span> t = <span class="hljs-keyword">new</span> Todos(store);
  <span class="hljs-comment">// &#x7528; sinon.spy &#x76D1;&#x63A7; console.log &#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x4E0D;&#x66FF;&#x6362;&#x5176;&#x539F;&#x6709;&#x7684;&#x5B9E;&#x73B0;</span>
  sinon.spy(<span class="hljs-built_in">console</span>, <span class="hljs-string">&quot;log&quot;</span>);
  t.add(<span class="hljs-string">&quot;eat&quot;</span>);
  t.add(<span class="hljs-string">&quot;sleep&quot;</span>);
  t.print();<span class="hljs-comment">//&#x51FD;&#x6570;&#x771F;&#x6B63;&#x6267;&#x884C;&#x4E86;</span>
  <span class="hljs-comment">// @ts-ignore console.log.calledOnce &#x65E0;&#x6CD5;&#x8BC6;&#x522B; &#x6CE8;&#x91CA;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x4E9B;&#x6CE8;&#x91CA;&#x662F;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x6291;&#x5236;&#x4E0B;&#x4E00;&#x884C;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#x3002;</span>
  <span class="hljs-comment">// &#x5982;&#x679C; spy &#x76D1;&#x63A7;&#x7684; console.log &#x51FD;&#x6570;&#x521A;&#x597D;&#x88AB;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; true</span>
  chai.expect(<span class="hljs-built_in">console</span>.log.calledOnce).to.be.true;
});
});
</code></pre>
</li>
</ul>
<h4 id="t255.9.3 stub">5.9.3 stub <a href="#t255.9.3 stub"> # </a></h4>
<ul>
<li>&#x7C7B;&#x4F3C;&#x4E8E; spy&#xFF0C;&#x4F46;&#x5B8C;&#x5168;&#x53D6;&#x4EE3;&#x4E86;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x5B58;&#x6839;&#x51FD;&#x6570;&#x505A;&#x4EFB;&#x4F55;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x4E8B;&#x60C5; - &#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x503C;&#x7B49;&#x7B49;</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span>  sinon <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;sinon&quot;</span>;
<span class="hljs-keyword">import</span> { expect } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;chai&quot;</span>;
<span class="hljs-keyword">import</span> Todos <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../src/todos&quot;</span>;
describe(<span class="hljs-string">&quot;&#x6D4B;&#x8BD5; Todos&quot;</span>, () =&gt; {
  it(<span class="hljs-string">&quot;stub&quot;</span>, () =&gt; {
    <span class="hljs-keyword">let</span> store = {save(){}};
    <span class="hljs-keyword">const</span> todos = <span class="hljs-keyword">new</span> Todos(store);
    <span class="hljs-comment">// &#x7528; stub &#x6A21;&#x62DF; t.add &#x51FD;&#x6570;&#xFF0C;stubAdd &#x51FD;&#x6570;&#x88AB;&#x6A21;&#x62DF;&#x4E3A;&#x4E00;&#x4E2A;&#x7A7A;&#x51FD;&#x6570;</span>
    <span class="hljs-keyword">const</span> stubAdd = sinon.stub(todos, <span class="hljs-string">&quot;add&quot;</span>).callsFake(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});
    <span class="hljs-comment">// &#x6267;&#x884C;&#x88AB;&#x6A21;&#x62DF;&#x7684; stubAdd &#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x65F6;&#x5019; &apos;eat&apos; &#x5E76;&#x6CA1;&#x6709;&#x88AB;&#x771F;&#x6B63;&#x5730; push</span>
    stubAdd(<span class="hljs-string">&quot;eat&quot;</span>);
    <span class="hljs-comment">// &#x5C1D;&#x8BD5;&#x6253;&#x5370;&#xFF0C;&#x4F1A;&#x6253;&#x5370;&#x51FA; []</span>
    todos.print();
    <span class="hljs-comment">// &#x6211;&#x4EEC;&#x671F;&#x671B; stubAdd &#x88AB;&#x6267;&#x884C;&#x4E86;&#x4E00;&#x6B21;</span>
    expect(stubAdd.calledOnce).to.be.true;
  });
});
</code></pre>
<h4 id="t265.9.4 mock">5.9.4 mock <a href="#t265.9.4 mock"> # </a></h4>
<ul>
<li>&#x901A;&#x8FC7;&#x7EC4;&#x5408; Spies &#x548C; Stubs&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x8F7B;&#x677E;&#x5730;&#x66FF;&#x6362;&#x6574;&#x4E2A;&#x5BF9;&#x8C61;</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span>  sinon <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;sinon&quot;</span>;
<span class="hljs-keyword">import</span> { expect } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;chai&quot;</span>;
<span class="hljs-keyword">import</span> Todos <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../src/todos&quot;</span>;
describe(<span class="hljs-string">&quot;&#x6D4B;&#x8BD5; Todos&quot;</span>, () =&gt; {
  it(<span class="hljs-string">&quot;mock&quot;</span>, () =&gt; {
    <span class="hljs-keyword">let</span> store = {save(){}};
    <span class="hljs-keyword">const</span> todos = <span class="hljs-keyword">new</span> Todos(store);
    <span class="hljs-comment">// &#x8FD9;&#x65F6;&#x5019; console &#x5DF2;&#x7ECF;&#x88AB; mock &#x5B8C;&#x5168; mock &#x4E86;</span>
    <span class="hljs-comment">// &#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x8C03;&#x7528;console&#x4E0B;&#x7684;&#x4EFB;&#x4F55;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x4F1A;&#x6267;&#x884C;</span>
    <span class="hljs-keyword">const</span> mock = sinon.mock(<span class="hljs-built_in">console</span>);
    <span class="hljs-comment">// &#x7531;&#x4E8E; console &#x5DF2;&#x7ECF;&#x5B8C;&#x5168;&#x88AB; mock&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x63D0;&#x524D;&#x63CF;&#x8FF0;&#x6211;&#x4EEC;&#x9884;&#x671F;&#x7684;&#x884C;&#x4E3A;</span>
    mock.expects(<span class="hljs-string">&quot;log&quot;</span>).calledOnce;
    todos.add(<span class="hljs-string">&quot;eat&quot;</span>);
    todos.print();
    <span class="hljs-comment">// &#x6821;&#x9A8C;</span>
    mock.verify();
  });
});
</code></pre>
<h2 id="t276. &#x4E3A;JS&#x6DFB;&#x52A0;TS&#x652F;&#x6301;">6. &#x4E3A;JS&#x6DFB;&#x52A0;TS&#x652F;&#x6301; <a href="#t276. &#x4E3A;JS&#x6DFB;&#x52A0;TS&#x652F;&#x6301;"> # </a></h2>
<h3 id="t286.1 sum.js">6.1 sum.js <a href="#t286.1 sum.js"> # </a></h3>
<p>src\sum.js </p>
<pre><code class="lang-js"><span class="hljs-comment">/**
 * &#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6CE8;&#x91CA;&#x7ED9;&#x53C2;&#x6570;&#x6DFB;&#x52A0;&#x7C7B;&#x578B;
 * @param {number} x  
 * @param {number} y 
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">x,y</span>)</span>{
  <span class="hljs-keyword">return</span> (x+y).toPrecision(<span class="hljs-number">10</span>);
}
</code></pre>
<h3 id="t296.3 sum.test.ts">6.3 sum.test.ts <a href="#t296.3 sum.test.ts"> # </a></h3>
<p>test\sum.test.ts</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> sum <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../src/sum&apos;</span>;
<span class="hljs-keyword">import</span>  assert <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;assert&apos;</span>;
describe(<span class="hljs-string">&apos;test sum&apos;</span>,()=&gt;{
  it(<span class="hljs-string">&apos;1+2=3&apos;</span>,()=&gt;{
    assert.equal(sum(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>),<span class="hljs-number">3</span>);
  })
  it(<span class="hljs-string">&apos;0.1+0.2=0.3&apos;</span>,()=&gt;{
    sum(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);
    assert.equal(sum(<span class="hljs-number">0.1</span>,<span class="hljs-number">0.2</span>),<span class="hljs-number">0.3</span>);
  })
});
</code></pre>
<h3 id="t306.3 tsconfig.json">6.3 tsconfig.json <a href="#t306.3 tsconfig.json"> # </a></h3>
<pre><code class="lang-diff">{
  &quot;compilerOptions&quot;: {
<span class="hljs-addition">+     &quot;checkJs&quot;: true, //&#x5141;&#x8BB8;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;JS</span>
<span class="hljs-addition">+     &quot;checkJs&quot;: true, //&#x53EF;&#x4EE5;&#x5BF9;JS&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x68C0;&#x67E5;</span>
</code></pre>
<h2 id="t317. &#x6301;&#x7EED;&#x96C6;&#x6210;">7. &#x6301;&#x7EED;&#x96C6;&#x6210; <a href="#t317. &#x6301;&#x7EED;&#x96C6;&#x6210;"> # </a></h2>
<ul>
<li><a href="https://travis-ci.com">Travis CI</a> &#x63D0;&#x4F9B;&#x7684;&#x662F;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x670D;&#x52A1;&#xFF08;Continuous Integration&#xFF0C;&#x7B80;&#x79F0; CI&#xFF09;&#x3002;&#x5B83;&#x7ED1;&#x5B9A; Github &#x4E0A;&#x9762;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x53EA;&#x8981;&#x6709;&#x65B0;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x6293;&#x53D6;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#xFF0C;&#x6267;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x5B8C;&#x6210;&#x6784;&#x5EFA;&#xFF0C;&#x8FD8;&#x80FD;&#x90E8;&#x7F72;&#x5230;&#x670D;&#x52A1;&#x5668;</li>
<li>&#x6301;&#x7EED;&#x96C6;&#x6210;&#x6307;&#x7684;&#x662F;&#x53EA;&#x8981;&#x4EE3;&#x7801;&#x6709;&#x53D8;&#x66F4;&#xFF0C;&#x5C31;&#x81EA;&#x52A8;&#x8FD0;&#x884C;&#x6784;&#x5EFA;&#x548C;&#x6D4B;&#x8BD5;&#xFF0C;&#x53CD;&#x9988;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x3002;&#x786E;&#x4FDD;&#x7B26;&#x5408;&#x9884;&#x671F;&#x4EE5;&#x540E;&#xFF0C;&#x518D;&#x5C06;&#x65B0;&#x4EE3;&#x7801;&#x96C6;&#x6210;&#x5230;&#x4E3B;&#x5E72;</li>
<li>&#x6301;&#x7EED;&#x96C6;&#x6210;&#x7684;&#x597D;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x6BCF;&#x6B21;&#x4EE3;&#x7801;&#x7684;&#x5C0F;&#x5E45;&#x53D8;&#x66F4;&#xFF0C;&#x5C31;&#x80FD;&#x770B;&#x5230;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF0C;&#x4ECE;&#x800C;&#x4E0D;&#x65AD;&#x7D2F;&#x79EF;&#x5C0F;&#x7684;&#x53D8;&#x66F4;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x5F00;&#x53D1;&#x5468;&#x671F;&#x7ED3;&#x675F;&#x65F6;&#xFF0C;&#x4E00;&#x4E0B;&#x5B50;&#x5408;&#x5E76;&#x4E00;&#x5927;&#x5757;&#x4EE3;&#x7801;</li>
</ul>
<h3 id="t327.1 &#x767B;&#x5F55;&#x5E76;&#x521B;&#x5EFA;&#x9879;&#x76EE;">7.1 &#x767B;&#x5F55;&#x5E76;&#x521B;&#x5EFA;&#x9879;&#x76EE; <a href="#t327.1 &#x767B;&#x5F55;&#x5E76;&#x521B;&#x5EFA;&#x9879;&#x76EE;"> # </a></h3>
<ul>
<li><a href="https://travis-ci.com">Travis CI</a> &#x53EA;&#x652F;&#x6301; Github,&#x6240;&#x4EE5;&#x4F60;&#x8981;&#x62E5;&#x6709;<code>GitHub</code>&#x5E10;&#x53F7;</li>
<li>&#x8BE5;&#x5E10;&#x53F7;&#x4E0B;&#x9762;&#x6709;&#x4E00;&#x4E2A;&#x9879;&#x76EE;,&#x9762;&#x6709;&#x53EF;&#x8FD0;&#x884C;&#x7684;&#x4EE3;&#x7801;,&#x8FD8;&#x5305;&#x542B;&#x6784;&#x5EFA;&#x6216;&#x6D4B;&#x8BD5;&#x811A;&#x672C;</li>
<li>&#x4F60;&#x9700;&#x8981;&#x6FC0;&#x6D3B;&#x4E86;&#x4E00;&#x4E2A;&#x4ED3;&#x5E93;&#xFF0C;Travis &#x4F1A;&#x76D1;&#x542C;&#x8FD9;&#x4E2A;&#x4ED3;&#x5E93;&#x7684;&#x6240;&#x6709;&#x53D8;&#x5316;</li>
</ul>
<h3 id="t337.2 .travis.yml">7.2 .travis.yml <a href="#t337.2 .travis.yml"> # </a></h3>
<ul>
<li><code>Travis</code> &#x8981;&#x6C42;&#x9879;&#x76EE;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#xFF0C;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;<code>.travis.yml</code>&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6307;&#x5B9A;&#x4E86; Travis &#x7684;&#x884C;&#x4E3A;</li>
<li>&#x8BE5;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x4FDD;&#x5B58;&#x5728; Github &#x4ED3;&#x5E93;&#x91CC;&#x9762;&#xFF0C;&#x4E00;&#x65E6;&#x4EE3;&#x7801;&#x4ED3;&#x5E93;&#x6709;&#x65B0;&#x7684; <code>Commit</code>&#xFF0C;Travis &#x5C31;&#x4F1A;&#x53BB;&#x627E;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6267;&#x884C;&#x91CC;&#x9762;&#x7684;&#x547D;&#x4EE4;</li>
<li>&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x91C7;&#x7528; YAML &#x683C;&#x5F0F;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x7684; Node &#x9879;&#x76EE;&#x7684;<code>.travis.yml</code>&#x6587;&#x4EF6;</li>
<li>language &#x5B57;&#x6BB5;&#x6307;&#x5B9A;&#x4E86;&#x9ED8;&#x8BA4;&#x8FD0;&#x884C;&#x73AF;&#x5883;,<a href="https://docs.travis-ci.com/user/languages">&#x6240;&#x6709;&#x7684;&#x8BED;&#x8A00;&#x5728;&#x6B64;</a></li>
<li>node_js: &quot;11&quot; &#x8868;&#x793A;&#x4E0D;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x811A;&#x672C;&#xFF0C;&#x72B6;&#x6001;&#x76F4;&#x63A5;&#x8BBE;&#x4E3A;&#x6210;&#x529F;</li>
</ul>
<pre><code class="lang-js">language: node_js
node_js:
  - <span class="hljs-string">&quot;11&quot;</span>
install: npm install
script:  npm test  
</code></pre>
<h3 id="t347.3 &#x8FD0;&#x884C;&#x6D41;&#x7A0B;">7.3 &#x8FD0;&#x884C;&#x6D41;&#x7A0B; <a href="#t347.3 &#x8FD0;&#x884C;&#x6D41;&#x7A0B;"> # </a></h3>
<h4 id="t357.3.1 &#x8FD0;&#x884C;&#x6D41;&#x7A0B;">7.3.1 &#x8FD0;&#x884C;&#x6D41;&#x7A0B; <a href="#t357.3.1 &#x8FD0;&#x884C;&#x6D41;&#x7A0B;"> # </a></h4>
<ul>
<li>Travis &#x7684;&#x8FD0;&#x884C;&#x6D41;&#x7A0B;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4EFB;&#x4F55;&#x9879;&#x76EE;&#x90FD;&#x4F1A;&#x7ECF;&#x8FC7;&#x4E24;&#x4E2A;&#x9636;&#x6BB5;<ul>
<li>install &#x9636;&#x6BB5;&#xFF1A;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;</li>
<li>script &#x9636;&#x6BB5;&#xFF1A;&#x8FD0;&#x884C;&#x811A;&#x672C;</li>
</ul>
</li>
</ul>
<h4 id="t367.3.2 install">7.3.2 install <a href="#t367.3.2 install"> # </a></h4>
<ul>
<li><code>install</code>&#x5B57;&#x6BB5;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x5B89;&#x88C5;&#x811A;&#x672C;  <code>install: npm install -g npm</code></li>
<li>&#x5982;&#x679C;&#x4E0D;&#x9700;&#x8981;&#x5B89;&#x88C5;&#xFF0C;&#x5373;&#x8DF3;&#x8FC7;&#x5B89;&#x88C5;&#x9636;&#x6BB5;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x8BBE;&#x4E3A;true <code>install: true</code></li>
</ul>
<h4 id="t377.3.3 script">7.3.3 script <a href="#t377.3.3 script"> # </a></h4>
<ul>
<li>script&#x5B57;&#x6BB5;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x6784;&#x5EFA;&#x6216;&#x6D4B;&#x8BD5;&#x811A;&#x672C;<pre><code class="lang-js">script: npm run build
</code></pre>
</li>
</ul>
<h4 id="t387.3.4 &#x94A9;&#x5B50;&#x65B9;&#x6CD5;">7.3.4 &#x94A9;&#x5B50;&#x65B9;&#x6CD5; <a href="#t387.3.4 &#x94A9;&#x5B50;&#x65B9;&#x6CD5;"> # </a></h4>
<p>Travis &#x4E3A;&#x4E0A;&#x9762;&#x8FD9;&#x4E9B;&#x9636;&#x6BB5;&#x63D0;&#x4F9B;&#x4E86;7&#x4E2A;&#x94A9;&#x5B50;</p>
<pre><code class="lang-js">before_install  &#x5B89;&#x88C5;&#x9636;&#x6BB5;&#x4E4B;&#x524D;&#x6267;&#x884C;
install &#x5B89;&#x88C5;
before_script &#x811A;&#x672C;&#x9636;&#x6BB5;&#x4E4B;&#x524D;&#x6267;&#x884C;
script &#x811A;&#x672C;&#x9636;&#x6BB5;
aftersuccess or afterfailure &#x811A;&#x672C;&#x6210;&#x529F;&#x6216;&#x5931;&#x8D25;
[OPTIONAL] before_deploy &#x5E03;&#x7F72;&#x4E4B;&#x524D;
[OPTIONAL] deploy &#x5E03;&#x7F72;
[OPTIONAL] after_deploy &#x5E03;&#x7F72;&#x4E4B;&#x540E;
after_script  &#x811A;&#x672C;&#x9636;&#x6BB5;&#x4E4B;&#x540E;
</code></pre>
<h3 id="t397.4 &#x5B9E;&#x6218;">7.4 &#x5B9E;&#x6218; <a href="#t397.4 &#x5B9E;&#x6218;"> # </a></h3>
<h4 id="t407.4.1 &#x5B89;&#x88C5;hexo">7.4.1 &#x5B89;&#x88C5;hexo <a href="#t407.4.1 &#x5B89;&#x88C5;hexo"> # </a></h4>
<ul>
<li><a href="https://hexo.io/zh-cn/docs/">hexo</a>&#x662F;&#x4E00;&#x4E2A;&#x5FEB;&#x901F;&#x3001;&#x7B80;&#x6D01;&#x4E14;&#x9AD8;&#x6548;&#x7684;&#x535A;&#x5BA2;&#x6846;&#x67B6;</li>
</ul>
<pre><code class="lang-js">$ npm install -g hexo-cli
</code></pre>
<h4 id="t417.4.2 &#x751F;&#x6210;&#x9879;&#x76EE;">7.4.2 &#x751F;&#x6210;&#x9879;&#x76EE; <a href="#t417.4.2 &#x751F;&#x6210;&#x9879;&#x76EE;"> # </a></h4>
<pre><code class="lang-js">hexo init zfblog
cd zfblog
npm install
</code></pre>
<h4 id="t427.4.3 &#x542F;&#x52A8;&#x9879;&#x76EE;">7.4.3 &#x542F;&#x52A8;&#x9879;&#x76EE; <a href="#t427.4.3 &#x542F;&#x52A8;&#x9879;&#x76EE;"> # </a></h4>
<pre><code class="lang-js">hexo generate
hexo server
hexo deploy
</code></pre>
<h4 id="t437.4.4 &#x5E03;&#x7F72;&#x9879;&#x76EE;">7.4.4 &#x5E03;&#x7F72;&#x9879;&#x76EE; <a href="#t437.4.4 &#x5E03;&#x7F72;&#x9879;&#x76EE;"> # </a></h4>
<pre><code class="lang-js">$ cnpm install eslint hexo-deployer-git --save
cnpm generate
cnpm deploy
</code></pre>
<p>_config.yml</p>
<pre><code class="lang-yaml"><span class="hljs-comment"># Deployment</span>
<span class="hljs-comment">## Docs: https://hexo.io/docs/deployment.html</span>
<span class="hljs-attr">deploy:</span>
<span class="hljs-attr">  type:</span> <span class="hljs-string">git</span>
<span class="hljs-attr">  repo:</span> <span class="hljs-attr">https://github.com/zhufengnodejs/zfblog2.git</span>
<span class="hljs-attr">  branch:</span> <span class="hljs-string">gh-pages</span>
<span class="hljs-attr">  message:</span> 
</code></pre>
<blockquote>
<p><a href="https://zhufengnodejs.github.io/zfblog2">https://zhufengnodejs.github.io/zfblog2</a></p>
</blockquote>
<h4 id="t447.4.5 &#x540C;&#x6B65;&#x4ED3;&#x5E93;">7.4.5 &#x540C;&#x6B65;&#x4ED3;&#x5E93; <a href="#t447.4.5 &#x540C;&#x6B65;&#x4ED3;&#x5E93;"> # </a></h4>
<ul>
<li>&#x767B;&#x5F55;<a href="https://travis-ci.com/">travis-ci.com</a>&#x9009;&#x62E9;&#x540C;&#x6B65;&#x4ED3;&#x5E93;</li>
</ul>
<p><img src="http://img.zhufengpeixun.cn/1.syncrepos.png" alt="syncrepos"></p>
<h4 id="t457.4.6 &#x8BBE;&#x7F6E;&#x4ED3;&#x5E93;&#x73AF;&#x5883;&#x53D8;&#x91CF;">7.4.6 &#x8BBE;&#x7F6E;&#x4ED3;&#x5E93;&#x73AF;&#x5883;&#x53D8;&#x91CF; <a href="#t457.4.6 &#x8BBE;&#x7F6E;&#x4ED3;&#x5E93;&#x73AF;&#x5883;&#x53D8;&#x91CF;"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53D8;&#x91CF;&#x540D;</th>
<th style="text-align:left">&#x542B;&#x4E49;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">USERNAME</td>
<td style="text-align:left">git&#x7528;&#x6237;&#x540D;</td>
<td>zhufengnodejs</td>
</tr>
<tr>
<td style="text-align:left">UESREMAIL</td>
<td style="text-align:left">git&#x7528;&#x6237;&#x90AE;&#x7BB1;</td>
<td><a href="/cdn-cgi/l/email-protection#2f55475a494a414841404b4a455c6f1e1d19014c4042"><span class="__cf_email__" data-cfemail="9ce6f4e9faf9f2fbf2f3f8f9f6efdcadaeaab2fff3f1">[email&#160;protected]</span></a></td>
</tr>
<tr>
<td style="text-align:left">GH_TOKEN</td>
<td style="text-align:left">&#x7528;&#x6237;&#x751F;&#x6210;&#x7684;&#x4EE4;&#x724C;</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">GH_REF</td>
<td style="text-align:left">&#x4ED3;&#x5E93;&#x5730;&#x5740;</td>
<td>github.com/zhufengnodejs/zfblog3.git</td>
</tr>
<tr>
<td style="text-align:left">GH_BRANCH</td>
<td style="text-align:left">&#x63A8;&#x9001;&#x7684;pages&#x5206;&#x652F;</td>
<td>gh-pages</td>
</tr>
</tbody>
</table>
<p><img src="http://img.zhufengpeixun.cn/2.settings.png" alt="2.settings"></p>
<h4 id="t467.4.7 Github&#x751F;&#x6210;&#x8BBF;&#x95EE;&#x4EE4;&#x724C; (&#x5373;&#x6DFB;&#x52A0;&#x6388;&#x6743;)">7.4.7 Github&#x751F;&#x6210;&#x8BBF;&#x95EE;&#x4EE4;&#x724C; (&#x5373;&#x6DFB;&#x52A0;&#x6388;&#x6743;) <a href="#t467.4.7 Github&#x751F;&#x6210;&#x8BBF;&#x95EE;&#x4EE4;&#x724C; (&#x5373;&#x6DFB;&#x52A0;&#x6388;&#x6743;)"> # </a></h4>
<ul>
<li>&#x8BBF;&#x95EE;&#x4EE4;&#x724C;&#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x6388;&#x6743;&#x4ED3;&#x5E93;&#x64CD;&#x4F5C;&#x6743;&#x9650;</li>
<li>Github&gt;settings&gt;Personal access tokens&gt; Generate new token &gt; Generate token&gt; Copy Token</li>
</ul>
<h4 id="t477.4.8 .travis.yml">7.4.8 .travis.yml <a href="#t477.4.8 .travis.yml"> # </a></h4>
<pre><code class="lang-yaml"><span class="hljs-attr">language:</span> <span class="hljs-string">node_js</span>
<span class="hljs-attr">node_js:</span> 
<span class="hljs-bullet">    -</span> <span class="hljs-string">&apos;11&apos;</span>
<span class="hljs-attr">install:</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
<span class="hljs-attr">script:</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">hexo</span> <span class="hljs-string">g</span>
<span class="hljs-attr">after_script:</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">cd</span> <span class="hljs-string">./public</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">git</span> <span class="hljs-string">init</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">git</span> <span class="hljs-string">config</span> <span class="hljs-string">user.name</span> <span class="hljs-string">&quot;${USERNAME}&quot;</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">git</span> <span class="hljs-string">config</span> <span class="hljs-string">user.email</span> <span class="hljs-string">&quot;${UESREMAIL}&quot;</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">git</span> <span class="hljs-string">add</span> <span class="hljs-bullet">-A</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">git</span> <span class="hljs-string">commit</span> <span class="hljs-bullet">-m</span> <span class="hljs-string">&quot;Update documents&quot;</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">git</span> <span class="hljs-string">push</span> <span class="hljs-bullet">--force</span>  <span class="hljs-string">&quot;https://${GH_TOKEN}@${GH_REF}&quot;</span> <span class="hljs-string">&quot;master:${GH_BRANCH}&quot;</span>
<span class="hljs-attr">branches:</span>
<span class="hljs-attr">  only:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">master</span>
</code></pre>

        <div class="copyright">Powered by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a>. Dependence <a href="https://nodejs.org">Node.js</a> run.</div>
    </div>
    
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.js"></script>
<script>
$('.warpper .page-toc ul ul li a').on('click',function(){
  $('.warpper .page-toc ul ul li a').removeClass('my-active')
  $(this).addClass('my-active')
})

$('.logo').on('mouseenter',function(){
  $('.nav').height('450px');
})
$('.nav').on('mouseleave',function(){
  $('.nav').height('80px');
})
$('.logo').on('click',function(){
  $('.nav').css('display','none');
 $('.warpper').css('padding','0px');
})
// if (!$('.understand-me').length) {
  //   var bar = $(window).height() - $('.navbar ').height() - $('.page-toc').position().top;
  //   var count = bar / 26 / 2;
  //   var barHeight = $('.page-toc').outerHeight();
  //   $('.page-toc li').eq(0).children('a').addClass('red');
  //   var arr = [];
  //   $("h1,h2,h3,h4,h5,h6").each(function () {
  //     arr.push($(this).position().top);
  //   });
  //   var timer
  //   function dark() {
  //     clearTimeout(timer)
  //      timer = setTimeout(function () {
  //      var top = Math.abs($('.page-toc > ul').position().top);
  //      var cur = $('.content').scrollTop();
  //      for (var i = arr.length; i >= 0; i--) {
  //        if (arr[i] <= cur) {
  //          break;
  //        }
  //      }
  //      if (i === -1) {
  //        i = 0;
  //      }
  //      $('.page-toc li a').removeClass('red');
  //      $('.page-toc li').eq(i).children('a').addClass('red');
  //      let height = $('.page-toc li').eq(i).position().top-$('.page-toc').height(); // 如果当前的offset出去了 回到中间可好？
  //      $('.page-toc').scrollTop(height+$('.page-toc').height()/2);
  //    },200)
  //   }

  //   $('.content').on('scroll', dark);
  // }
</script>
<style>

    /* ::-webkit-scrollbar{width:14px;}
    ::-webkit-scrollbar-track{background-color:transparent;}
    ::-webkit-scrollbar-thumb{background-color:transparent;}
    ::-webkit-scrollbar-thumb:hover {background-color:transparent}
    ::-webkit-scrollbar-thumb:active {background-color:transparent} */

    .page-toc > ul .red {
        background: #f3f3f3;
        z-index: 1;
        border-left: 3px solid #009a61;
        -webkit-transition: all .2s ease;
        transition: all .2s ease;
        color: #000
    }





</style>
<script type="text/javascript"  src="https://idm-su.baidu.com/su_new.js"></script>
</body>
</html>
